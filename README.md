# 工业数据预处理实战：铣削刀具磨损预测
## 项目简介
基于NASA公开铣削数据集，用NumPy+SciPy实现工业传感器数据的「读取→清洗→标准化」全流程，输出可直接用于刀具磨损预测模型的结构化数据。  
**适配场景**：工程机械设备维护、工业AI数据预处理、刀具剩余寿命预测（RUL）等，对齐徐工汉云等工业互联网企业业务需求。

## 数据来源
- 原始数据集：NASA铣削加工数据集（MATLAB格式，核心文件：`mill.mat`）
- 官方下载地址：[https://phm-datasets.s3.amazonaws.com/NASA/3.+Milling.zip](https://phm-datasets.s3.amazonaws.com/NASA/3.+Milling.zip)（无需注册，直接下载）
- 数据集说明：包含167组铣削实验数据，每个实验样本包含以下核心字段（数据列说明）：
  | 字段名       | 含义                     | 类型       | 工业意义                                                                 |
  |--------------|--------------------------|------------|--------------------------------------------------------------------------|
  | case         | 实验编号                 | 数值       | 区分不同铣削实验批次                                                     |
  | run          | 实验轮次                 | 数值       | 同批次实验的重复次数                                                     |
  | VB           | 刀具磨损量（标签）| 数值（mm） | 模型预测的目标，反映刀具健康状态                                         |
  | time         | 实验时长                 | 数值（s）  | 辅助分析磨损随时间的变化趋势                                             |
  | DOC          | 切削深度                 | 数值（mm） | 工艺参数，影响刀具受力和磨损程度                                         |
  | feed         | 进给量                   | 数值（mm/r）| 工艺参数，决定材料去除率和刀具负载                                       |
  | material     | 加工材料                 | 字符串     | 本数据集中为统一材料，可忽略                                             |
  | smcAC        | 主轴交流电流             | 数值（A）  | 传感器数据，反映主轴负载变化                                             |
  | smcDC        | 主轴直流电流             | 数值（A）  | 传感器数据，辅助判断主轴工作状态                                         |
  | vib_table    | 工作台振动（x轴）| 数值（g）  | 传感器数据，振动强度反映刀具磨损和加工稳定性                             |
  | vib_spindle  | 主轴振动（x轴）| 数值（g）  | 传感器数据，直接反映刀具-主轴系统的动态特性                               |
  | AE_table     | 工作台声发射信号         | 数值（dB） | 传感器数据，声发射能量反映材料断裂和刀具磨损                             |
  | AE_spindle   | 主轴声发射信号           | 数值（dB） | 传感器数据，辅助判断刀具磨损位置（主轴端）   

## 核心预处理流程
| 步骤         | 核心操作                                                                 | 工业场景意义                                                                 |
|--------------|--------------------------------------------------------------------------|------------------------------------------------------------------------------|
| 数据读取     | 用`scipy.io.loadmat`解析MATLAB嵌套结构体，拆解167个单元格数据，提取有效字段 | 解决工业数据“格式复杂、嵌套深”的痛点，适配真实工业数据存储场景                 |
| 数据清洗     | 1. 均值填充缺失值；2. 3σ法则剔除传感器极值；3. 过滤VB=0的无效样本          | 工业传感器易受噪声、传输中断影响，清洗后提升数据质量，为建模打基础             |
| 数据标准化   | 标准化公式：`(x - 均值) / 标准差`，统一特征量纲（均值=0，方差=1）          | 解决工业特征“单位不一致”问题（如DOC是mm，电流是A），提升模型训练稳定性         |
| 结果保存     | 输出`milling_preprocessed_data.npz`，含`features`（标准化特征）和`labels`（VB标签） | 方便后续对接机器学习模型（如Sklearn随机森林、PyTorch深度学习），实现端到端落地 |

## 技术栈
| 类别         | 具体工具/库                                                                 |
|--------------|-----------------------------------------------------------------------------|
| 编程语言     | Python 3.8+（兼容大部分环境）                                               |
| 核心库       | NumPy（数据计算）、SciPy（读取MAT文件）       |
| 开发环境     | 任意Python环境（PyCharm、VS Code、Jupyter Notebook均可）                     |
| 输出格式     | NPZ（NumPy专用格式，体积小、读取快，适配建模流程）                           |

## 快速运行步骤
### 1. 准备工作
- 克隆本仓库到本地（打开命令行，输入以下命令）：
  ```bash
  git clone https://github.com/Fiona913/industrial-data-preprocessing-milling.git
  ```
- 从「数据来源」的官方地址下载3.+Milling.zip，解压后取出mill.mat，放在项目根目录（和milling_preprocessing.py同级）。
### 2.安装依赖库
- 打开命令行，进入项目文件夹，输入以下命令安装所需库：
  ```bash
  pip install numpy scipy 
  ```
### 3. 运行代码
- 运行下面代码：
  ```bash
  python milling_preprocessing.py
  ```
### 4. 查看结果
- 运行成功后，项目根目录会生成：
milling_preprocessed_data.npz：预处理后的特征和标签，后续建模直接用；
### 5. 数据可视化展示
新增铣削刀片磨损量(VB)的分布直方图，直观呈现磨损量的统计分布特征：
![铣削刀片磨损量(VB)分布](VB_distribution_count.png)

## 技术亮点
1. **复杂数据适配**：针对MATLAB格式的嵌套结构体数据，设计循环拆解逻辑，解决工业数据“格式不统一、嵌套深”的常见问题；
2. **工业场景落地**：数据清洗（3σ法则）采用工业界主流方法，兼顾效果和工程实用性；
3. **轻量化实现**：仅用NumPy+SciPy完成全流程，无需复杂框架，适配工业边缘端数据预处理的轻量化需求；
4. **可复用性强**：输出的NPZ格式可直接对接Sklearn/PyTorch，后续可快速扩展为“预处理→建模→评估”的完整工业AI流程。

## 后续拓展方向
1. **用Pandas优化数据分组**：按“铣削实验批次”分组提取特征，替代当前的全局特征提取，更贴合时序数据处理逻辑；
2. **增加频域特征**：通过FFT（快速傅里叶变换）提取振动/声发射数据的频域特征，提升刀具磨损状态的表征能力；
3. **对接机器学习模型**：用Sklearn搭建随机森林/梯度提升树模型，实现刀具磨损量的回归预测，形成“数据预处理→建模→评估”闭环；
4. **模拟边缘端部署**：可结合徐工汉云“端边云”架构，优化代码轻量化，模拟边缘端设备数据预处理→云端模型训练的流程。

## 免责声明
- 本项目仅用于个人学习、工业数据预处理技能练习，不涉及任何商业用途。  
- 数据集来源于NASA公开数据集，若涉及相关版权问题或侵权，请联系本人删除。
